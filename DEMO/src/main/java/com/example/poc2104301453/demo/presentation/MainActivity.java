package com.example.poc2104301453.demo.presentation;

import android.os.Bundle;

import com.example.poc2104301453.demo.R;
import com.example.poc2104301453.pinpadlibrary.managers.PinpadManager;
import com.example.poc2104301453.pinpadlibrary.utilities.DataUtility;
import com.google.android.material.snackbar.Snackbar;

import androidx.appcompat.app.AppCompatActivity;

import android.util.Log;
import android.view.View;

import com.example.poc2104301453.demo.databinding.ActivityMainBinding;

import android.view.Menu;
import android.view.MenuItem;
import android.widget.TextView;

import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.List;
import java.util.Locale;
import java.util.concurrent.Semaphore;

import static com.example.poc2104301453.pinpadlibrary.ABECS.*;

public class MainActivity extends AppCompatActivity {
    private static final String TAG_LOGCAT = MainActivity.class.getSimpleName();

    private static final Semaphore sSemaphore = new Semaphore(1, true);

    private void updateContentScrolling(String msg) {
        new Thread() {
            @Override
            public void run() {
                super.run();

                sSemaphore.acquireUninterruptibly();

                runOnUiThread(new Runnable() {
                    @Override
                    public void run() {
                        ((TextView) findViewById(R.id.tv_content_scrolling)).setText(msg);

                        sSemaphore.release();
                    }
                });
            }
        }.start();
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        ActivityMainBinding binding = ActivityMainBinding.inflate(getLayoutInflater());
        setContentView(binding.getRoot());
        setSupportActionBar(binding.toolbar);

        binding.fab.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Snackbar.make(view, "Replace with your own action", Snackbar.LENGTH_LONG)
                        .setAction("Action", null).show();
            }
        });

        binding.fab.setEnabled(false);

        PinpadManager.register();
    }

    @Override
    protected void onPause() {
        super.onPause();

        Log.d(TAG_LOGCAT, "onPause");

        finish();

        PinpadManager.unregister();
    }

    @Override
    protected void onResume() {
        super.onResume();

        updateContentScrolling(getString(R.string.warning_reading));

        new Thread() {
            @Override
            public void run() {
                try {
                    String contentScrolling = "Triggered at "
                            + Calendar.getInstance().getTime()
                            + "\r\n\r\n";

                    List<Bundle> requestList = new ArrayList<>(0);

                    Bundle input;

                    input = new Bundle();

                    input.putString(CMD_ID, OPN);

                    requestList.add(input);

                    input = new Bundle();

                    input.putString(CMD_ID, GIN);

                    input.putInt   (GIN_ACQIDX, 0);

                    requestList.add(input);

                    input = new Bundle();

                    input.putString(CMD_ID, CLO);

                    requestList.add(input);

                    input = new Bundle();

                    input.putString(CMD_ID, OPN);

                    requestList.add(input);

                    input = new Bundle();

                    input.putString(CMD_ID, CKE);

                    input.putInt   (CKE_KEY,  1);
                    input.putInt   (CKE_MAG,  1);
                    input.putInt   (CKE_ICC,  1);
                    input.putInt   (CKE_CTLS, 1);

                    requestList.add(input);

                    input = new Bundle();

                    input.putString(CMD_ID, TLR);

                    input.putInt   (TLI_ACQIDX, 0);
                    input.putString(TLI_TABVER, "0123456789");

                    List<String> list = new ArrayList<>(0);

                    /* (staging) */
                    list.add("3141040107A000000494201000000000000000000002ELO DEBITO      03000100010001076986200000000000000000000000000060D0E87000F0A00122FC408480000010000000FC6084900000000000R093B9AC9FF00001388000013880000100000000000000000000000000000000000000009F37040000000000000000000000000000000000Y1Z1Y3Z3FC408480000010000000FC60849000");
                    list.add("3141040210A0000000041010D0761300000000000001Master CREDITO  030002000200020769862000000000000000000000000000E0F8C8F000F0A00122FE50BCA0000000000000FE50BCF80000000000R143B9AC9FF0000000000001388000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3F45084800C0000000000F45084800C");
                    list.add("3141040310A0000000041010D0761200000000000002Master DEBITO   030002000200020769862000000000000000000000000000E0F8C8F000F0A00122FE50BCA0000000000000FE50BCF80000000000R143B9AC9FF0000000000001388000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3F45084800C0000000000F45084800C");
                    list.add("3141040407A000000004101000000000000000000001Mastercard      030002000200020769862000000000000000000000000000E0F8C8F000F0A00122FE50BCA0000000000000FE50BCF80000000000R143B9AC9FF0000000000001388000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3F45084800C0000000000F45084800C");
                    list.add("3141040507A000000004306000000000000000000002Maestro         030002000200020769862000000000000000000000000000E0F8C87000F0A00122FE50BCA0000000000000FE50BCF80000000000R143B9AC9FF0000000000001388000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3F45004800C0000800000F45004800C");
                    list.add("3141040607A000000003201000000000000000000002VISA DEBIT      03008C008C008C076986200000000000000000000000000060D0E87000F0A00122DC4000A8000010000000DC4004F80000000000R123B9AC9FF0000000000001388000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3000000000000000000000000000000");
                    list.add("3141040707A000000004600000000000000000000001Cirrus          03000200020002076986200000000000000000000000000060D0E8F000F0A00122FC50ACA0000400000000F850ACF80000000000R00000000000000000000000000000009F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3000000000000000000000000000000");
                    list.add("3141040807A000000494101000000000000000000001ELO CREDITO     03000200020002076986200000000000000000000000000060D0E87000F0F00122FC408480000010000000FC6084900000000000R093B9AC9FF0000138800001388000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3FC408480000010000000FC60849000");
                    list.add("3141040906A000000025010000000000000000000001AMEX            03000100010001076986200000000000000000000000000060D0E87000F0A00122DC50FC98000010000000DE00FC980000000000R16900000000000000000005000000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3000000000000000000000000000000");
                    list.add("3141041007A000000003101000000000000000000001VISA            03008C008C008C076986200000000000000000000000000060D0E87000F0A00122DC4000A8000010000000DC4004F80000000000R123B9AC9FF0000000000001388000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3000000000000000000000000000000");
                    list.add("61120411A00000000395001030000144BE9E1FA5E9A803852999C4AB432DB28600DCD9DAB76DFAAA47355A0FE37B1508AC6BF38860D3C6C2E5B12A3CAAF2A7005A7241EBAA7771112C74CF9A0634652FBCA0E5980C54A64761EA101A114E0F0B5572ADD57D010B7C9C887E104CA4EE1272DA66D997B9A90B5A6D624AB6C57E73C8F919000EB5F684898EF8C3DBEFB330C62660BED88EA78E909AFF05F6DA627B00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001EE1511CEC71020A9B90443B37B1D5F6E703030F6000000000000000000000000000000000000000000");
                    list.add("61120412A00000000392001030000176996AF56F569187D09293C14810450ED8EE3357397B18A2458EFAA92DA3B6DF6514EC060195318FD43BE9B8F0CC669E3F844057CBDDF8BDA191BB64473BC8DC9A730DB8F6B4EDE3924186FFD9B8C7735789C23A36BA0B8AF65372EB57EA5D89E7D14E9C7B6B557460F10885DA16AC923F15AF3758F0F03EBD3C5C2C949CBA306DB44E6A2C076C5F67E281D7EF56785DC4D75945E491F01918800A9E2DC66F60080566CE0DAF8D17EAD46AD8E30A247C9F0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001429C954A3859CEF91295F663C963E582ED6EB253000000000000000000000000000000000000000000");
                    list.add("61120413A00000000399001030000128AB79FCC9520896967E776E64444E5DCDD6E13611874F3985722520425295EEA4BD0C2781DE7F31CD3D041F565F747306EED62954B17EDABA3A6C5B85A1DE1BEB9A34141AF38FCF8279C9DEA0D5A6710D08DB4124F041945587E20359BAB47B7575AD94262D4B25F264AF33DEDCF28E09615E937DE32EDC03C54445FE7E38277700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014ABFFD6B1C51212D05552E431C5B17007D2F5E6D000000000000000000000000000000000000000000");
                    list.add("61120414A00000000394001030000248ACD2B12302EE644F3F835ABD1FC7A6F62CCE48FFEC622AA8EF062BEF6FB8BA8BC68BBF6AB5870EED579BC3973E121303D34841A796D6DCBC41DBF9E52C4609795C0CCF7EE86FA1D5CB041071ED2C51D2202F63F1156C58A92D38BC60BDF424E1776E2BC9648078A03B36FB554375FC53D57C73F5160EA59F3AFC5398EC7B67758D65C9BFF7828B6B82D4BE124A416AB7301914311EA462C19F771F31B3B57336000DFF732D3B83DE07052D730354D297BEC72871DCCF0E193F171ABA27EE464C6A97690943D59BDABB2A27EB71CEEBDAFA1176046478FD62FEC452D5CA393296530AA3F41927ADFE434A2DF2AE3054F8840657A26E0FC6171C4A3C43CCF87327D136B804160E47D43B60E6E0F000000000000000000000000000000000000000000");
                    list.add("61120415A000000004FE001030000128A653EAC1C0F786C8724F737F172997D63D1C3251C44402049B865BAE877D0F398CBFBE8A6035E24AFA086BEFDE9351E54B95708EE672F0968BCD50DCE40F783322B2ABA04EF137EF18ABF03C7DBC5813AEAEF3AA7797BA15DF7D5BA1CBAF7FD520B5A482D8D3FEE105077871113E23A49AF3926554A70FE10ED728CF793B62A100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000019A295B05FB390EF7923F57618A9FDA2941FC34E0000000000000000000000000000000000000000000");
                    list.add("61120416A000000004F1001030000176A0DCF4BDE19C3546B4B6F0414D174DDE294AABBB828C5A834D73AAE27C99B0B053A90278007239B6459FF0BBCD7B4B9C6C50AC02CE91368DA1BD21AAEADBC65347337D89B68F5C99A09D05BE02DD1F8C5BA20E2F13FB2A27C41D3F85CAD5CF6668E75851EC66EDBF98851FD4E42C44C1D59F5984703B27D5B9F21B8FA0D93279FBBF69E090642909C9EA27F898959541AA6757F5F624104F6E1D3A9532F2A6E51515AEAD1B43B3D7835088A2FAFA7BE70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001D8E68DA167AB5A85D8C3D55ECB9B0517A1A5B4BB000000000000000000000000000000000000000000");
                    list.add("61120417A000000004F300103000014498F0C770F23864C2E766DF02D1E833DFF4FFE92D696E1642F0A88C5694C6479D16DB1537BFE29E4FDC6E6E8AFD1B0EB7EA0124723C333179BF19E93F10658B2F776E829E87DAEDA9C94A8B3382199A350C077977C97AFF08FD11310AC950A72C3CA5002EF513FCCC286E646E3C5387535D509514B3B326E1234F9CB48C36DDD44B416D23654034A66F403BA511C5EFA300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001A69AC7603DAF566E972DEDC2CB433E07E8B01A9A000000000000000000000000000000000000000000");
                    list.add("61120418A000000004F8001030000128A1F5E1C9BD8650BD43AB6EE56B891EF7459C0A24FA84F9127D1A6C79D4930F6DB1852E2510F18B61CD354DB83A356BD190B88AB8DF04284D02A4204A7B6CB7C5551977A9B36379CA3DE1A08E69F301C95CC1C20506959275F41723DD5D2925290579E5A95B0DF6323FC8E9273D6F849198C4996209166D9BFC973C361CC826E10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001F06ECC6D2AAEBF259B7E755A38D9A9B24E2FF3DD000000000000000000000000000000000000000000");
                    list.add("61120419A000000004EF001030000248A191CB87473F29349B5D60A88B3EAEE0973AA6F1A082F358D849FDDFF9C091F899EDA9792CAF09EF28F5D22404B88A2293EEBBC1949C43BEA4D60CFD879A1539544E09E0F09F60F065B2BF2A13ECC705F3D468B9D33AE77AD9D3F19CA40F23DCF5EB7C04DC8F69EBA565B1EBCB4686CD274785530FF6F6E9EE43AA43FDB02CE00DAEC15C7B8FD6A9B394BABA419D3F6DC85E16569BE8E76989688EFEA2DF22FF7D35C043338DEAA982A02B866DE5328519EBBCD6F03CDD686673847F84DB651AB86C28CF1462562C577B853564A290C8556D818531268D25CC98A4CC6A0BDFFFDA2DCCA3A94C998559E307FDDF915006D9A987B07DDAEB3B121766EBB0EE122AFB65D7845B73DB46BAB65427A000000000000000000000000000000000000000000");
                    list.add("61120420A000000004FA001030000144A90FCD55AA2D5D9963E35ED0F440177699832F49C6BAB15CDAE5794BE93F934D4462D5D12762E48C38BA83D8445DEAA74195A301A102B2F114EADA0D180EE5E7A5C73E0C4E11F67A43DDAB5D55683B1474CC0627F44B8D3088A492FFAADAD4F42422D0E7013536C3C49AD3D0FAE96459B0F6B1B6056538A3D6D44640F94467B108867DEC40FAAECD740C00E2B7A8852D000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015BED4068D96EA16D2D77E03D6036FC7A160EA99C000000000000000000000000000000000000000000");
                    list.add("61120421A000000494E0001030000144D8D8A754F12A90EB3D1A6828F65300F1E938877732AC1CBB75E74EE9129398F62B8DE7812873442B5FA5CB27A42D17170E4F45B22AF25B03F36246ACD8C682292363C9C9FA470D4F60C2500E70732D19346E50097558E85428BF23C04D6907769E4B3236C84E4D43B3E07BD2CC8F8334022EDA760086BD4DD5088179A7EA3A42B4AC82C971287A0DD5E985DA6D8DF4991BC045C73C4213E11A431E1B419E1FFD725733E220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120422A000000494E1001030000176BEFA49A34C81522C4499745F2FFEDC5597A8049D8C75D80F3AE606DCEF62D2DD9AA97A031AFA0FDC80737C031D09729E25E9DF1A5C05E88040F7C4CEE2AFC0398A0BCF2BB491CD36F4F5C359B9BF7B12958C2E79E06BBB2F37BF748177E1AF6662F9EDEFED3A15A6E5E87A6258DE4F83B1AC75757526C9961C29DEB7E5C67B18A81FEB2F0E4E62DF86B75B2DE834EB4CA838EB486C18C161AED45159DCDEA9F0CF724F3DD6B7222A539F037E52910845184EC43E67F4219779771DC7E5FD8700307E3FD24000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120423A000000494E2001030000248B303169291494ED69263243D1A617A15F943413D2ECFF0A98292884D15826B494E7925A087BC1FE54FCA44DAACB0A91A8F384F1AA9189F5EC7B15211C66129E2640A75313D584C6A992E04521B70E25DB49E35E65959F136ACE71602C954EB83E4223BECCD5DFF089AF5A5B444BF914463EF855E6DD642EBC6CA6CE662AFCA3DFFA32A44AB0D0C8CE1DBCEFFCA56CEBE31BDDCCB9DBD1C3BD00C099BBFBEEADC2672B809AFFDF2D1571AA4CC8AF96D41B0CF72369CEF6B15AED7930E21CC95AD32EEEB55210800942CDF82DB5B3B3B4896B15D1899114ED33DA43900B6DAF941BBD69431E83BE4D01E4FC36922C497E9F370309D51D667071589D31C994A3720AB01292353FC45DDB46CF88B5000000000000000000000000000000000000000000");
                    list.add("61120424A000000025C8001030000144BF0CFCED708FB6B048E3014336EA24AA007D7967B8AA4E613D26D015C4FE7805D9DB131CED0D2A8ED504C3B5CCD48C33199E5A5BF644DA043B54DBF60276F05B1750FAB39098C7511D04BABC649482DDCF7CC42C8C435BAB8DD0EB1A620C31111D1AAAF9AF6571EEBD4CF5A08496D57E7ABDBB5180E0A42DA869AB95FB620EFF2641C3702AF3BE0B0C138EAEF202E21D133BD7A059FAB094939B90A8F35845C9DC779BD500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120425A000000025CA001030000248C23ECBD7119F479C2EE546C123A585D697A7D10B55C2D28BEF0D299C01DC65420A03FE5227ECDECB8025FBC86EEBC1935298C1753AB849936749719591758C315FA150400789BB14FADD6EAE2AD617DA38163199D1BAD5D3F8F6A7A20AEF420ADFE2404D30B219359C6A4952565CCCA6F11EC5BE564B49B0EA5BF5B3DC8C5C6401208D0029C3957A8C5922CBDE39D3A564C6DEBB6BD2AEF91FC27BB3D3892BEB9646DCE2E1EF8581EFFA712158AAEC541C0BBB4B3E279D7DA54E45A0ACC3570E712C9F7CDF985CFAFD382AE13A3B214A9E8E1E71AB1EA707895112ABC3A97D0FCB0AE2EE5C85492B6CFD54885CDD6337E895CC70FB3255E316BDA32B1AA171444C7E8F88075A74FBFE845765F000000000000000000000000000000000000000000");
                    list.add("61120426A000000025C9001030000176B362DB5733C15B8797B8ECEE55CB1A371F760E0BEDD3715BB270424FD4EA26062C38C3F4AAA3732A83D36EA8E9602F6683EECC6BAFF63DD2D49014BDE4D6D603CD744206B05B4BAD0C64C63AB3976B5C8CAAF8539549F5921C0B700D5B0F83C4E7E946068BAAAB5463544DB18C63801118F2182EFCC8A1E85E53C2A7AE839A5C6A3CABE73762B70D170AB64AFC6CA482944902611FB0061E09A67ACB77E493D998A0CCF93D81A4F6C0DC6B7DF22E62DB18E8DFF443D78CD91DE88821D70C98F0638E51E49000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");

                    /* (production)
                    list.add("3141040107A000000004101000000000000000000001CREDITO         03000200020002076986200000000000000000000000000020D0E8F000F0A00122F850ACF8000400000000FC50ACA00000000000R143B9AC9FF0000000000004E20000009F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3F850ACF8000400000000FC50ACA000");
                    list.add("3141040210A0000000041010D0761300000000000001CREDITO         03000200020002076986200000000000000000000000000020D0E8F000F0A00122F850ACF8000400000000FC50ACA00000000000R143B9AC9FF0000000000004E20000009F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3F850ACF8000400000000FC50ACA000");
                    list.add("3141040310A0000000041010D0761200000000000002DEBITO          03000200020002076986200000000000000000000000000020D0E8F000F0A00122F850ACF8000400000000FC50ACA00000000000R143B9AC9FF0000000000004E20000009F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3F850ACF8000400000000FC50ACA000");
                    list.add("3141040407A000000004306000000000000000000002DEBITO          03000200020002076986200000000000000000000000000020D0E87000F0A00122F850ACF8000400000000FC50ACA00000000000R143B9AC9FF0000000000004E20000009F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3F850ACF8000400000000FC50ACA000");
                    list.add("3141040507A000000003101000000000000000000001CREDITO         03008C008C008C076986200000000000000000000000000020D0E87000F0A00122D84004F8000010000000D84000A80000000000R123B9AC9FF0000000000004E20000009F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3D84004F8000010000000D84000A800");
                    list.add("3141040607A000000003201000000000000000000002DEBITO          03008C008C008C076986200000000000000000000000000020D0E87000F0A00122D84004F8000010000000D84000A80000000000R123B9AC9FF0000000000004E20000009F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3D84004F8000010000000D84000A800");
                    list.add("3141040707A000000494101000000000000000000001ELO CREDITO     03000200020002076986200000000000000000000000000020D0E87000F0F00122FC408480000010000000FC6084900000000000R093B9AC9FF0000000000000001000009F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3FC408480000010000000FC60849000");
                    list.add("3141040807A000000494201000000000000000000002ELO DEBITO      03000200020002076986200000000000000000000000000020D0E87000F0A00122FC408480000010000000FC6084900000000000R093B9AC9FF0000000000000001000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3FC408480000010000000FC60849000");
                    list.add("3141040909A000000003050760100000000000000001ELO CREDITO     03000200020002076986200000000000000000000000000020D0E87000F0F00122FC408480000010000000FC6084900000000000R093B9AC9FF0000000000000001000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3FC408480000010000000FC60849000");
                    list.add("3141041009A000000003050760200000000000000002ELO DEBITO      03000200020002076986200000000000000000000000000020D0E87000F0F00122FC408480000010000000FC6084900000000000R093B9AC9FF0000000000000001000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3FC408480000010000000FC60849000");
                    list.add("3141041109A000000152301010100000000000000001ELO CREDITO     03000200020002076986200000000000000000000000000020D0E87000F0F00122FC408480000010000000FC6084900000000000R093B9AC9FF0000000000000001000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3FC408480000010000000FC60849000");
                    list.add("3141041209A000000152301020100000000000000002ELO DEBITO      03000200020002076986200000000000000000000000000020D0E87000F0F00122FC408480000010000000FC6084900000000000R093B9AC9FF0000000000000001000019F02065F2A029A039C0195059F370400000000009F37040000000000000000000000000000000000Y1Z1Y3Z3FC408480000010000000FC60849000");
                    list.add("61120413A00000000404001030000144A6DA428387A502D7DDFB7A74D3F412BE762627197B25435B7A81716A700157DDD06F7CC99D6CA28C2470527E2C03616B9C59217357C2674F583B3BA5C7DCF2838692D023E3562420B4615C439CA97C44DC9A249CFCE7B3BFB22F68228C3AF13329AA4A613CF8DD853502373D62E49AB256D2BC17120E54AEDCED6D96A4287ACC5C04677D4A5A320DB8BEE2F775E5FEC500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001381A035DA58B482EE2AF75F4C3F2CA469BA4AA6C000000000000000000000000000000000000000000");
                    list.add("61120414A00000000405001030000176B8048ABC30C90D976336543E3FD7091C8FE4800DF820ED55E7E94813ED00555B573FECA3D84AF6131A651D66CFF4284FB13B635EDD0EE40176D8BF04B7FD1C7BACF9AC7327DFAA8AA72D10DB3B8E70B2DDD811CB4196525EA386ACC33C0D9D4575916469C4E4F53E8E1C912CC618CB22DDE7C3568E90022E6BBA770202E4522A2DD623D180E215BD1D1507FE3DC90CA310D27B3EFCCD8F83DE3052CAD1E48938C68D095AAC91B5F37E28BB49EC7ED5970000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001EBFA0D5D06D8CE702DA3EAE890701D45E274C845000000000000000000000000000000000000000000");
                    list.add("61120415A00000000406001030000248CB26FC830B43785B2BCE37C81ED334622F9622F4C89AAE641046B2353433883F307FB7C974162DA72F7A4EC75D9D657336865B8D3023D3D645667625C9A07A6B7A137CF0C64198AE38FC238006FB2603F41F4F3BB9DA1347270F2F5D8C606E420958C5F7D50A71DE30142F70DE468889B5E3A08695B938A50FC980393A9CBCE44AD2D64F630BB33AD3F5F5FD495D31F37818C1D94071342E07F1BEC2194F6035BA5DED3936500EB82DFDA6E8AFB655B1EF3D0D7EBF86B66DD9F29F6B1D324FE8B26CE38AB2013DD13F611E7A594D675C4432350EA244CC34F3873CBA06592987A1D7E852ADC22EF5A2EE28132031E48F74037E3B34AB747F1F910A1504D5FFB793D94F3B500765E1ABCAD72D9000000000000000000000000000000000000000000");
                    list.add("61120416A00000000307001030000144A89F25A56FA6DA258C8CA8B40427D927B4A1EB4D7EA326BBB12F97DED70AE5E4480FC9C5E8A972177110A1CC318D06D2F8F5C4844AC5FA79A4DC470BB11ED635699C17081B90F1B984F12E92C1C529276D8AF8EC7F28492097D8CD5BECEA16FE4088F6CFAB4A1B42328A1B996F9278B0B7E3311CA5EF856C2F888474B83612A82E4E00D0CD4069A6783140433D50725F00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001B4BC56CC4E88324932CBC643D6898F6FE593B172000000000000000000000000000000000000000000");
                    list.add("61120417A00000000308001030000176D9FD6ED75D51D0E30664BD157023EAA1FFA871E4DA65672B863D255E81E137A51DE4F72BCC9E44ACE12127F87E263D3AF9DD9CF35CA4A7B01E907000BA85D24954C2FCA3074825DDD4C0C8F186CB020F683E02F2DEAD3969133F06F7845166ACEB57CA0FC2603445469811D293BFEFBAFAB57631B3DD91E796BF850A25012F1AE38F05AA5C4D6D03B1DC2E568612785938BBC9B3CD3A910C1DA55A5A9218ACE0F7A21287752682F15832A678D6E1ED0B000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000120D213126955DE205ADC2FD2822BD22DE21CF9A8000000000000000000000000000000000000000000");
                    list.add("61120418A000000003090010300002489D912248DE0A4E39C1A7DDE3F6D2588992C1A4095AFBD1824D1BA74847F2BC4926D2EFD904B4B54954CD189A54C5D1179654F8F9B0D2AB5F0357EB642FEDA95D3912C6576945FAB897E7062CAA44A4AA06B8FE6E3DBA18AF6AE3738E30429EE9BE03427C9D64F695FA8CAB4BFE376853EA34AD1D76BFCAD15908C077FFE6DC5521ECEF5D278A96E26F57359FFAEDA19434B937F1AD999DC5C41EB11935B44C18100E857F431A4A5A6BB65114F174C2D7B59FDF237D6BB1DD0916E644D709DED56481477C75D95CDD68254615F7740EC07F330AC5D67BCD75BF23D28A140826C026DBDE971A37CD3EF9B8DF644AC385010501EFC6509D7A4111FF80A40173F52D7D27E0F26A146A1C8CCB29046000000000000000000000000000000000000000000");
                    list.add("61120419A000000388020010300002488C1CB1A139B95087455684F9AE2AA6FBA31BA504122DB7C194E8BE0B9AB9A9025DBB8FAFEA1AF9EE8A21CB66296611536863D43520407A57F01216CDB313679B47522821FF783C5B0BE31857EBFBA11A737940E3008D521EA019E17B559C93E21224B0B8651E7B6FD622BCC47FE62266261528CF3F130AF948B5C9087D6C6F28EEAAA73F0013EC1394C582A3F540F697443BA1E2F3D03378CB0C9122F7786821C76FF2D6FBFC827164CF609F0B26151F04C6B6A0675B3113225BD4FFB61FE230D2BBB2C335F5BDFCE30ECAA012AF180799FBC62BF8E02A17ABBB6BED510496529000ACF34EEB0F09AF438A9E7EE22FF16746DB2AD04CA7D11B9834C19CB6F71A8D234E47AB09BDB4E6A180E43000000000000000000000000000000000000000000");
                    list.add("61120420A00000053710001030000176C72A09CD16611507AC2AA75F38757A4B50BF319FFC014C7755E4FE1B56ADFC33188C625D6F3B9456B107A2489A966FF501850E6C3C64CD2C7A9F3C0307FB36D880916B49B84AD2FD8D4C0F5199B09C56EF81B590C9D3D23E1B7A45403939CD5D1BBBDE39EDB2581101503AAD4D4ADED1CA531C74AE4825D304919B677AB5DD7C23237CC67538AB1A315B1AE092F24654F8384BA71BC349CC5FFADF576E8AFB84D1C1CBBAE2C9C8D4A08FE8271E282DEF13F21C5721B13ADAE7C4DD9F761BE4A40DB76C2C3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120421A00000053711001030000176AF17659A353B5E21498A5A7F5F3C23016B64793A20B8401039292D6D032FCA0870121CABA506CE8AD20742A61FD52EF7982DFA5C83B97BB7A0F5896D9DC0803AB05049943809F5B196827498263A98B5355C2582412E3E831732E32B4340395A83F200383D70AF4C58361B780E6DF8D0706E8A450ED1737433D4C39156A6DE18FC82612D888516B3AC8CF1060A14AAC2718D99BBC5425CEE8A32E7DF18754866B284DA602FDBED9D03BEDE06905EDB9B12B23AAEAE0BAC92FE6DC6412530AFED285843511000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120422A00000055799001030000176D05DE82981164BD9B0B3F56368714BDCC5745A5BD3B22A770DBD1303A0ED88EAF83CCB9A15822F6DCF47669CB9F4202E710860019E671533677D076E93F63B6D9238B06234ADC33E04F8BDAE8D50B2020EA0720C0DC68CBF6EDA55C8ED39AC20793E9A40F10DCBF8728FA2E4F2BD03831F0E5E50E2F9F9730BF0D724E5DA9DEB6C3BC3CD31838FD7D282F8FB49559DCB4D5B771DC49EE046E42054C3CB2598773007FC691AEEA7077CC918751340A0ED1254921AD8AB13C633E7C246A9237EAE09E93348B000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120423A00000049401001030000144AAE2752517E82EFD0041A8CA6DA1C993D0961152E4F92E61448492D881D3AF055DF03CB87A4E9B72AF4D29A3FA2403E7D00BDC93CDD5746AD82BC7C4A7C9C1827578D3E391A6BEB5CA36A668BD20DB29360D479FC75CC84FDC78FE9A4C6BF754A26AB0C3153468DC87C8C244F54CC0650214835825BBE7B96985891DFA0804865C9ED562384DED56280B3B8E8176857B17C3F72E081D76E5B9244843B3D012BD9D18405260000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120424A00000049402001030000176BE300EA002D9720E759152B2E843D0FB1F3BA2535B1CA3AA29131571D56AB4676ECEA552C31EA85257B4B6B146D6F9505311EA14B88F4034669A3E674B7C9D2E6D47C62CA65EB7709D287AF9E2E20AB5D0CBD73C56A55990EABFD871D79A3C20BD710C0FB005FABAE6503D5DB19B6747CFDEFDF739E4C217F1959DB97FD8501C7A5BDB71D8FC506BDBABB83ACF33F44F8D8B9CD72F50BE0FBB1B141927BF4C0618F93EC1A48B2583ADF1B01EAD23FD3916D5F471BC24E3C8E94A2FACB98682ADA18C670CA000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120425A00000049403001030000248DAF1A9708C22EBACE93B1067D0DDE5AF1948DA0D9785D7AB7A04B0FBA4089B96A2616C3A7AB3D9A97032EC12218B70576E54506B922DD373E37A47BD5FB72B9D10C5DD450DB6C92454672F20AAA1C8F0AC7B9ABC71D8A1E9D0DB7B4EDD7C01AD3479EAD0A2389B86B95B186A54F6CE1E463701FE675A2CB9639A03FA271812A2552C886D0A7CD9B3D8269AD63E61C98407E914C7FA5B85E952C1F9C3BDF6E1841F3015FD8D76D0463631C8B058D1A765AD6E25210F6BD8ACB70F5A3A262DEC513A07903A86704B6F44F4E28C850AC8F1DB0E29BF57FB68729E67FAAA453B46C484E5490B027965BC0DE6B538F8B0E261BEFD1BA89C06AB5112263AC2014951210F3CCEA263966ACDE1816D327000000000000000000000000000000000000000000");
                    list.add("61120426A0000000250E001030000144AA94A8C6DAD24F9BA56A27C09B01020819568B81A026BE9FD0A3416CA9A71166ED5084ED91CED47DD457DB7E6CBCD53E560BC5DF48ABC380993B6D549F5196CFA77DFB20A0296188E969A2772E8C4141665F8BB2516BA2C7B5FC91F8DA04E8D512EB0F6411516FB86FC021CE7E969DA94D33937909A53A57F907C40C22009DA7532CB3BE509AE173B39AD6A01BA5BB851A7266ABAE64B42A3668851191D49856E17F8FBCD0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120427A0000000250F001030000176C8D5AC27A5E1FB89978C7C6479AF993AB3800EB243996FBB2AE26B67B23AC482C4B746005A51AFA7D2D83E894F591A2357B30F85B85627FF15DA12290F70F05766552BA11AD34B7109FA49DE29DCB0109670875A17EA95549E92347B948AA1F045756DE56B707E3863E59A6CBE99C1272EF65FB66CBB4CFF070F36029DD76218B21242645B51CA752AF37E70BE1A84FF31079DC0048E928883EC4FADD497A719385C2BBBEBC5A66AA5E5655D18034EC51A73472B3AB557493A9BC2179CC8014053B12BAB4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120428A00000002510001030000248CF98DFEDB3D3727965EE7797723355E0751C81D2D3DF4D18EBAB9FB9D49F38C8C4A826B99DC9DEA3F01043D4BF22AC3550E2962A59639B1332156422F788B9C16D40135EFD1BA94147750575E636B6EBC618734C91C1D1BF3EDC2A46A43901668E0FFC136774080E888044F6A1E65DC9AAA8928DACBEB0DB55EA3514686C6A732CEF55EE27CF877F110652694A0E3484C855D882AE191674E25C296205BBB599455176FDD7BBC549F27BA5FE35336F7E29E68D783973199436633C67EE5A680F05160ED12D1665EC83D1997F10FD05BBDBF9433E8F797AEE3E9F02A34228ACE927ABE62B8B9281AD08D3DF5C7379685045D7BA5FCDE586371C729CF2FD262394ABC4CC173506502446AA9B9FD000000000000000000000000000000000000000000");
                    list.add("61120429A00000055510003010001176C2C70441B08547562C3E311D6DAF742B160F4730BA5FBD304EA4FC6F03432758A16D97F96770690D0688AADB50A6AEF5B8372A91A9E7DC13B4AF1980C865EC879B5B4D8979EE48EA62A629D5E32586915BF174C43871ECD9CFD46EDCDA52BCF94E1B62012219492E0D817D9E39878A6F43DE54ED53E58BC900A4A0D14C419E517F1F0BC267E71C428AD73F9776283A6E31669167D079786CF13274E3F85D866F1885B53375A8D49B2ED96EB271FDB2791BA9FBF1E563C25B858E4B77621BD3F1AC600A2AC000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120430A00000055511003010001248C2F56D084C2C28D96545B3FF747A6A1F1DFF5C0B1D87E4824B876F1B55178D58ED1DD00D22F7324761ADBA006E749F693B9B669D0F8F5E35E1DED8DA0689AA2C29A3E5734EACC7A05240CF668B494DF015D52F2D77065CAA593A71A421D6925DBCD688121C71E10A0E683C9385640B696B0169B7A9D593FEB32170E9B57CB8316F20E96AB674E64FC2B0575546E30C1184D9C2F43260DB8BEF2619B37301A90D106DFA562BA031B5A7370807C0A396A8D136C47BF3C83229F913E71AC7AFB2BBF4527D3C716AE9277CA51DD8E1D56CBDB075CF064C751698CF129791A00FB74E310827D862DE90E8DE4EC8E247325DD3EC7D28299F767C5B125408ABA7E43064F369731C4B8BBC1D4DDD89B39000000000000000000000000000000000000000000");
                    list.add("61120431A00000065101001030000248B0F20A1EB23CAF2FCC53E5B5D05BCE2A9195781B9F225876E8CA237A33335AFC864384EFB152946F6164970CE6C77D93C1C0A58E1FDFBF869CE099FA7492C665205E0121761626C7C8B162BBE564D317712531B9D6F77C1694F1CB4B14C9FA95BDC10D250FD8FCABAB7B8115BD2621AD1B4CEB017F8A142C06F198DC18F3AAD95A19EA9DE9BEC22678F7E303A8D979F545982B12BEF99711429ABCD0A958000132C692DDD1551349558DF67B9CCB002B52EC57A90C01EFBE3A28C8C9FCE61C7087AFF59D11051A3410ED4DF66763564A340339162916ED0296E1C02D4F323F11EAC6CF63CBAD9677D1A304724167C614663988C4D9F79DBF148BE2B1445A042BC63D0FB994F4BB564087C54E2000000000000000000000000000000000000000000");
                    list.add("61120432A00000045914003010001176E5F5BCE3C76E567E5DC9375BC7250D1CD4E0C30070F5DFDDA23AA614649281395D88F43770B8F3529D29C908EEB35A182AB7FA3D9289ACAA7E2569BD23E18B9D61C8B74D1345A86027F18392366B1A2D76C6289D2B4AA424D12DFD28C2E23FFD1847A99C4F4CBAD0D7D64AD6DF9118D8D863F32280CC44A000633AD0AB612251C9CE343582E62BEB2A56947275BAE58741862A6486F7F97279FBA698373EBD4E13F5F7F0EBB35AD3F9736F3C085F55CD1893A15E5F667C08AFBD6C1AF244AF900BF5DB6B7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                    list.add("61120433A00000044201003010001176CCFE36E1F7B63F174C52116977C579A93550F8892E45CFF9C453691FA3E8C0319AFC1477FD58A40065557A9C65028D1FFE853CD2F61B91487F488AFCD154639BABC1AB56379C49BE0F777E425C2D73C6149216304D31AA39BB15FBE84C3F171D042328049CED633B1B25A799308CCD16DDBC37DE00AA186B243CA20A8A36EE7FE171A079B51B94CA22FA0AF0EDE8345C4A2C2EC580D351D4A5890DB9673836BB24318ACCCBA96F9ED3339F5FEE05B4291AB47AC32246F0D80590EF78D884A7D68AA3A9FD1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
                     */

                    input.putInt   (TLR_NREC, list.size());

                    StringBuilder data = new StringBuilder();

                    for (String item : list) {
                        data.append(item);
                    }

                    input.putString(TLR_DATA, data.toString());

                    requestList.add(input);

                    input = new Bundle();

                    input.putString(CMD_ID, GCR);

                    String date = (new SimpleDateFormat("yyMMddHHmmss", Locale.getDefault()))
                            .format(new Date());

                    input.putInt   (GCR_ACQIDXREQ, 0);
                    input.putInt   (GCR_APPTYPREQ, 99);
                    input.putLong  (GCR_AMOUNT, 0);
                    input.putString(GCR_DATE, date.substring(0, 6));
                    input.putString(GCR_TIME, date.substring(6));
                    input.putString(GCR_TABVER, "0123456789");
                    input.putInt   (GCR_QTDAPP, 0);

                    requestList.add(input);

                    for (Bundle request : requestList) {
                        contentScrolling += "\n";

                        contentScrolling += DataUtility.toJSON(PinpadManager.request(request), true).toString(4);

                        updateContentScrolling(contentScrolling);
                    }
                } catch (Exception exception) {
                    updateContentScrolling(Log.getStackTraceString(exception));
                }
            }
        }.start();
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.menu_main, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // Handle action bar item clicks here. The action bar will
        // automatically handle clicks on the Home/Up button, so long
        // as you specify a parent activity in AndroidManifest.xml.
        int id = item.getItemId();

        //noinspection SimplifiableIfStatement
        if (id == R.id.action_settings) {
            return true;
        }

        return super.onOptionsItemSelected(item);
    }
}
